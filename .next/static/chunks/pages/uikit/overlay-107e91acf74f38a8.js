(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2691],{1:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uikit/overlay",function(){return a(9953)}])},9953:function(e,s,a){"use strict";a.r(s);var r=a(7568),l=a(655),t=a(5893),i=a(7294),n=a(3861),c=a(9403),d=a(2167),o=a(4420),u=a(6094),h=a(1202),m=a(2175),E=a(6310),N=a(8433),f=a(5024),p=a(1417),b=a(6952);s.default=function(){var e=(0,i.useState)(!1),s=e[0],a=e[1],x=(0,i.useState)(!1),v=x[0],y=x[1],j=(0,i.useState)(null),T=j[0],R=j[1],g=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e,s,a;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,N.Z.get("".concat(b.f,"getGrades"))];case 1:return e=r.sent(),s=e.data.map((function(e){return{label:e.Grade}})),R(s),[3,3];case 2:return a=r.sent(),console.log(a),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]);var S=new Date,_=(0,d.Z)(S,"yyyy-MM-dd HH:mm:ss"),D=E.Ry().shape({RUNNING_GRADE:E.Z_().required("Grade is required"),PROCESS_CODE:E.nK().required("Process code is required")}),C=E.Ry().shape({CASE_NO:E.Rx().required("Case Number is required"),MOISTURE:E.Rx().required("Moisture data is required"),TEMPERATURE:E.Rx().required("Temperature data is required"),TIME_INSERTED:E.hT().required("Time is required")}),M=(0,m.TA)({initialValues:{DATE:"".concat(_),RUNNING_GRADE:"",PROCESS_CODE:""},validationSchema:D,onSubmit:function(){var e=(0,r.Z)((function(e,s){var r,t,i,n;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:r=s.setSubmitting,t=s.resetForm,l.label=1;case 1:return l.trys.push([1,3,4,5]),e.DATE=(0,d.Z)(new Date,"yyyy-MM-dd HH:mm:ss"),[4,N.Z.post("".concat(b.f,"postDailyProcessData"),e)];case 2:return i=l.sent(),console.log(i,"response from api"),200===i.status&&(g.current.show({severity:"success",summary:"Data succesfully submited",detail:"The form data has been posted successfully",life:1e4}),t()),[3,5];case 3:return n=l.sent(),console.log(n),g.current.show({severity:"error",summary:"Error",detail:"There was an error posting the data. Please try again",life:5e3}),console.log(n,"error"),[3,5];case 4:return r(!1),a(!1),[7];case 5:return[2]}}))}));return function(s,a){return e.apply(this,arguments)}}()}),w=(0,m.TA)({initialValues:{CASE_NO:"",MOISTURE:"",TEMPERATURE:"",TIME_INSERTED:new Date},validationSchema:C,onSubmit:function(){var e=(0,r.Z)((function(e,s){var a,r,t,i;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:a=s.setSubmitting,r=s.resetForm,l.label=1;case 1:return l.trys.push([1,3,4,5]),e.DATE=(0,d.Z)(new Date,"yyyy-MM-dd HH:mm:ss"),e.TIME_INSERTED=(0,d.Z)(new Date,"yyyy-MM-dd HH:mm:ss"),[4,N.Z.post("".concat(b.f,"addMoistureData"),e)];case 2:return t=l.sent(),console.log(t,"response from api"),200===t.status&&(g.current.show({severity:"success",summary:"Data succesfully submited",detail:"The form data has been posted successfully",life:1e4}),r()),[3,5];case 3:return i=l.sent(),console.log(i),g.current.show({severity:"error",summary:"Error",detail:"There was an error posting the data. Please try again",life:1e4}),console.log(i,"error"),[3,5];case 4:return a(!1),y(!1),[7];case 5:return[2]}}))}));return function(s,a){return e.apply(this,arguments)}}()});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{pageTitle:"Data Entry Page"}),(0,t.jsx)(o.F,{ref:g}),(0,t.jsxs)("div",{className:"grid",children:[(0,t.jsx)("div",{className:"col-12 lg:col-4",children:(0,t.jsxs)("div",{className:"card shadow-3",children:[(0,t.jsx)("h5",{children:"Today's Data"}),(0,t.jsx)(n.V,{header:"Todays Data",visible:s,style:{width:"60vw"},modal:!0,onHide:function(){return a(!1)},children:(0,t.jsxs)("form",{onSubmit:M.handleSubmit,children:[(0,t.jsx)("div",{className:"grid",children:(0,t.jsx)("div",{className:"col-12 md:col-12",children:(0,t.jsxs)("div",{className:"card p-fluid",children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{htmlFor:"name1",children:"Date"}),(0,t.jsx)(u.o,{id:"name1",disabled:!0,placeholder:_,type:"text"})]}),(0,t.jsx)("label",{htmlFor:"name1",children:"Grade"}),(0,t.jsx)(h.L,{id:"RUNNING_GRADE",className:"field",value:M.values.RUNNING_GRADE,onChange:function(e){M.setFieldValue("RUNNING_GRADE",e.value.label),console.log(e.value.label,"selected value")},options:T,optionLabel:"label",placeholder:M.values.RUNNING_GRADE}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{htmlFor:"age1",children:"Process Code"}),(0,t.jsx)(u.o,{id:"PROCESS_CODE",className:"field",value:M.values.PROCESS_CODE,onChange:M.handleChange,type:"text"})]})]})})}),(0,t.jsx)(c.z,{className:"border-double mt-4 border-4 border-sky-500 col-12 p-mt-2 p-button-primary",onClick:function(){return M.handleSubmit()},icon:"pi pi-check",disabled:M.isSubmitting||!M.isValid,type:"submit",label:"Submit"})]})}),console.log(M.errors,"jd"),(0,t.jsx)("div",{className:"grid",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)(c.z,{type:"submit",label:"Enter Data",icon:"pi pi-external-link",onClick:function(){return a(!0)}})})})]})}),(0,t.jsx)("div",{className:"col-12 lg:col-4",children:(0,t.jsxs)("div",{className:"card shadow-3",children:[(0,t.jsx)("h5",{children:"Moistures Data"}),(0,t.jsx)(n.V,{header:"Moistures Data",visible:v,style:{width:"60vw"},modal:!0,onHide:function(){return y(!1)},children:(0,t.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,t.jsx)("div",{className:"grid",children:(0,t.jsx)("div",{className:"col-12 md:col-12",children:(0,t.jsxs)("div",{className:"card p-fluid",children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{htmlFor:"TIME_INSERTED",children:"Time"}),(0,t.jsx)(u.o,{id:"TIME_INSERTED",name:"TIME_INSERTED",disabled:!0,placeholder:_,type:"text"})]}),(0,t.jsx)("label",{htmlFor:"CASE_NO",children:"Case Number"}),(0,t.jsx)("div",{className:"field",children:(0,t.jsx)(u.o,{id:"CASE_NO",name:"CASE_NO",value:w.values.CASE_NO,onChange:w.handleChange,placeholder:"Enter the case number",type:"text"})}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{htmlFor:"TEMPARTURE",children:"Temparture"}),(0,t.jsx)(u.o,{id:"TEMPERATURE",name:"TEMPERATURE",placeholder:"Enter the temparture data ",className:"field",value:w.values.TEMPERATURE,onChange:w.handleChange,type:"text"})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{htmlFor:"MOISTURE",children:"Moisture"}),(0,t.jsx)(u.o,{id:"MOISTURE",name:"MOISTURE",placeholder:"Enter the moisture data",className:"field",value:w.values.MOISTURE,onChange:w.handleChange,type:"text"})]})]})})}),(0,t.jsx)(c.z,{className:"border-double mt-4 border-4 border-sky-500 col-12 p-mt-2 p-button-primary",onClick:function(){return w.handleSubmit()},icon:"pi pi-check",disabled:w.isSubmitting||!w.isValid,type:"submit",label:"Submit"})]})}),console.log(w.errors,"jd2"),(0,t.jsx)("div",{className:"grid",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)(c.z,{type:"submit",label:"Enter Data",icon:"pi pi-external-link",onClick:function(){return y(!0)}})})})]})}),(0,t.jsx)("div",{className:"col-12 lg:col-4",children:(0,t.jsx)(f.default,{})}),(0,t.jsx)("div",{className:"col-12 lg:col-12",children:(0,t.jsx)(o.F,{ref:g})})]})]})}}},function(e){e.O(0,[8725,4420,3861,508,5024,9774,2888,179],(function(){return s=1,e(e.s=s);var s}));var s=e.O();_N_E=s}]);